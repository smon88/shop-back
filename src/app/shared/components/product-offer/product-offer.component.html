<div class="mx-auto bg-white dark:bg-slate-800 rounded-lg p-3 sm:p-4 md:p-5 shadow-md max-w-[280px] sm:max-w-sm md:max-w-md relative">
  <!-- Layout móvil: horizontal compacto -->
  <div class="flex items-center gap-3 sm:hidden">
    <!-- Imagen móvil -->
    <div class="relative shrink-0">
      <img
        class="w-16 h-16 object-contain"
        [src]="product().urlImg | imageUrl"
        [alt]="product().name"
      />
      <div class="absolute -top-1 -right-1 bg-gradient-to-br from-[#06cf86] to-[#0b6142] rounded-full w-6 h-6 flex items-center justify-center">
        <span class="text-white text-[9px] font-bold">{{ discount }}%</span>
      </div>
    </div>
    <!-- Contenido móvil -->
    <div class="flex-1 min-w-0">
      <h2 class="font-bold text-sm leading-tight line-clamp-2 text-gray-900 dark:text-white">{{ product().name }}</h2>
      <div class="flex items-center gap-1 mt-1">
        <div class="flex">
          @for (star of [1,2,3,4,5]; track star) {
          <svg class="w-2.5 h-2.5 text-yellow-400" fill="currentColor" viewBox="0 0 576 512"><path d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"/></svg>
          }
        </div>
        <span class="text-[10px] text-gray-500 dark:text-gray-400">{{ product().reviews }}</span>
      </div>
      <div class="mt-1">
        <p class="text-sm font-bold text-gray-900 dark:text-white">{{ product().price | copCurrency }}</p>
        <del class="text-[10px] text-gray-500 dark:text-gray-400">{{ product().previousPrice | copCurrency }}</del>
      </div>
      <a
        [routerLink]="['products', product().productId]"
        class="inline-flex items-center gap-1 text-xs text-primary-600 dark:text-primary-400 hover:underline mt-1"
      >
        Ver más
        <svg class="w-2.5 h-2.5" fill="currentColor" viewBox="0 0 512 512"><path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"/></svg>
      </a>
    </div>
  </div>

  <!-- Layout tablet/desktop -->
  <div class="hidden sm:block">
    <div class="max-w-[200px] md:max-w-[220px]">
      <h2 class="font-bold text-base md:text-lg lg:text-xl text-gray-900 dark:text-white line-clamp-2">{{ product().name }}</h2>
      <div class="flex items-center gap-2 mt-1.5">
        <div class="flex">
          @for (star of [1,2,3,4,5]; track star) {
          <svg class="w-3 h-3 md:w-3.5 md:h-3.5 text-yellow-400" fill="currentColor" viewBox="0 0 576 512"><path d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"/></svg>
          }
        </div>
        <span class="text-xs text-gray-500 dark:text-gray-400 border-l border-gray-300 dark:border-gray-600 pl-2">{{ product().reviews }} reseñas</span>
      </div>
      <div class="mt-2">
        <p class="text-xl md:text-2xl font-bold text-gray-900 dark:text-white">{{ product().price | copCurrency }}</p>
        <del class="text-sm text-gray-500 dark:text-gray-400">{{ product().previousPrice | copCurrency }}</del>
      </div>
      <a
        [routerLink]="['products', product().productId]"
        class="inline-flex items-center gap-1.5 text-sm text-primary-600 dark:text-primary-400 hover:underline mt-2"
      >
        Ver más
        <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 512 512"><path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"/></svg>
      </a>
    </div>
    <!-- Imagen desktop flotante -->
    <div class="absolute -top-8 md:-top-12 lg:-top-16 right-2 md:right-4">
      <img
        class="w-28 h-28 md:w-36 md:h-36 lg:w-44 lg:h-44 object-contain"
        [src]="product().urlImg | imageUrl"
        [alt]="product().name"
      />
      <div class="absolute top-2 right-2 bg-gradient-to-br from-[#06cf86] to-[#0b6142] rounded-full w-8 h-8 md:w-10 md:h-10 flex items-center justify-center">
        <span class="text-white text-xs md:text-sm font-bold">{{ discount }}%</span>
      </div>
    </div>
  </div>
</div>
